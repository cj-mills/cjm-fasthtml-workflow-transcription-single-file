# Single File Transcription Workflow


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

## SingleFileTranscriptionWorkflow Class

The main workflow class that orchestrates all subsystems for single-file
transcription: - Plugin registry for transcription plugins - Resource
manager for GPU/CPU availability - Job manager for background
transcription execution - Media library for file discovery and serving -
Result storage for saving transcripts - Step flow for the 3-step wizard
UI

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-workflow-transcription-single-file/blob/main/cjm_fasthtml_workflow_transcription_single_file/workflow/workflow.py#L39"
target="_blank" style="float:right; font-size:smaller">source</a>

### SingleFileTranscriptionWorkflow

``` python

def SingleFileTranscriptionWorkflow(
    plugin_manager:PluginManager, # PluginManager from host application
    config:Optional=None, # Explicit config (bypasses auto-loading)
    config_overrides:VAR_KEYWORD
):

```

*Self-contained single-file transcription workflow.*

Receives a PluginManager from the host application and creates internal
TranscriptionJobTracker, SSEBroadcastManager, FileBrowser,
ResultStorage, StepFlow (plugin → file → confirm wizard), and APIRouter.

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-workflow-transcription-single-file/blob/main/cjm_fasthtml_workflow_transcription_single_file/workflow/workflow.py#L179"
target="_blank" style="float:right; font-size:smaller">source</a>

### SingleFileTranscriptionWorkflow.setup

``` python

def setup(
    app, # FastHTML application instance
)->None:

```

*Initialize workflow with FastHTML app. Must be called after app
creation.*

The `cleanup` method is called when the workflow is being removed or the
application is shutting down. It currently clears the media library
cache and app reference. Future database-per-service pattern updates
will add closing database connections, flushing pending writes, and
releasing other resources.

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-workflow-transcription-single-file/blob/main/cjm_fasthtml_workflow_transcription_single_file/workflow/workflow.py#L189"
target="_blank" style="float:right; font-size:smaller">source</a>

### SingleFileTranscriptionWorkflow.cleanup

``` python

def cleanup(
    
)->None:

```

*Clean up workflow resources. Mirrors PluginInterface.cleanup() for
future plugin system compatibility.*

``` python
# This method is no longer needed - config is now embedded in plugin manifests
# and managed by the PluginManager. Plugins are always "configured" via their manifest.
```

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-workflow-transcription-single-file/blob/main/cjm_fasthtml_workflow_transcription_single_file/workflow/workflow.py#L198"
target="_blank" style="float:right; font-size:smaller">source</a>

### SingleFileTranscriptionWorkflow.get_routers

``` python

def get_routers(
    
)->List: # List containing main router, stepflow router, media router, and file selection router

```

*Return all routers for registration with the app.*

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-workflow-transcription-single-file/blob/main/cjm_fasthtml_workflow_transcription_single_file/workflow/workflow.py#L211"
target="_blank" style="float:right; font-size:smaller">source</a>

### SingleFileTranscriptionWorkflow.render_entry_point

``` python

def render_entry_point(
    request, # FastHTML request object
    sess, # FastHTML session object
)->FT: # AsyncLoadingContainer component

```

*Render the workflow entry point for embedding in tabs, etc.*

Returns an AsyncLoadingContainer that loads the current_status endpoint,
which determines what to show (running job, workflow in progress,
completed job, or fresh start).
