# Settings Schemas


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

## WorkflowSettings

User-configurable settings for the single-file transcription workflow.
This dataclass serves as the single source of truth for settings that:

1.  Are exposed in the settings UI
2.  Get persisted to storage (currently JSON files, future: database)
3.  Can be modified by users at runtime

The field metadata is used to auto-generate JSON schemas for form UI
generation.

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-workflow-transcription-single-file/blob/main/cjm_fasthtml_workflow_transcription_single_file/settings/schemas.py#L26"
target="_blank" style="float:right; font-size:smaller">source</a>

### WorkflowSettings

``` python

def WorkflowSettings(
    directories:List=<factory>, enabled_types:List=<factory>, recursive_scan:bool=True, items_per_page:int=30,
    default_view:str='list', auto_save:bool=True, results_directory:str='transcription_results',
    gpu_memory_threshold_percent:float=45.0
)->None:

```

*User-configurable settings for single-file transcription workflow.*

## WORKFLOW_SETTINGS_SCHEMA

Auto-generated JSON schema for workflow settings. Used by the settings
modal to generate forms for configuring the workflow.

``` python
# Test dataclass_to_jsonschema conversion
schema = dataclass_to_jsonschema(WorkflowSettings)
assert schema["name"] == "single_file_workflow"
assert schema["title"] == "Single File Transcription Settings"
assert "directories" in schema["properties"]
assert schema["properties"]["directories"]["type"] == "array"
assert schema["properties"]["directories"]["title"] == "Media Directories"  # UI still shows "Media Directories"
assert "enabled_types" in schema["properties"]
assert schema["properties"]["enabled_types"]["type"] == "array"
assert schema["properties"]["items_per_page"]["minimum"] == 10
assert schema["properties"]["items_per_page"]["maximum"] == 100
print("Schema name:", schema["name"])
print("Properties:", list(schema["properties"].keys()))
```

    Schema name: single_file_workflow
    Properties: ['directories', 'enabled_types', 'recursive_scan', 'items_per_page', 'default_view', 'auto_save', 'results_directory', 'gpu_memory_threshold_percent']

## WorkflowSettings Methods

Methods for converting between
[`WorkflowSettings`](https://cj-mills.github.io/cjm-fasthtml-workflow-transcription-single-file/settings/schemas.html#workflowsettings)
and the runtime config objects.

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-workflow-transcription-single-file/blob/main/cjm_fasthtml_workflow_transcription_single_file/settings/schemas.py#L106"
target="_blank" style="float:right; font-size:smaller">source</a>

### WorkflowSettings.from_configs

``` python

def from_configs(
    browser_config:BrowserConfig, # BrowserConfig instance with file browser settings
    storage_config:StorageConfig, # StorageConfig instance with result storage settings
    workflow_config:Optional=None, # Optional workflow config for additional settings
)->WorkflowSettings: # WorkflowSettings instance with values from configs

```

*Create WorkflowSettings from runtime config objects.*

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-workflow-transcription-single-file/blob/main/cjm_fasthtml_workflow_transcription_single_file/settings/schemas.py#L129"
target="_blank" style="float:right; font-size:smaller">source</a>

### WorkflowSettings.apply_to_configs

``` python

def apply_to_configs(
    browser_config:BrowserConfig, # BrowserConfig instance to update
    storage_config:StorageConfig, # StorageConfig instance to update
    workflow_config:Optional=None, # Optional workflow config to update
)->None:

```

*Apply settings to runtime config objects.*

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-workflow-transcription-single-file/blob/main/cjm_fasthtml_workflow_transcription_single_file/settings/schemas.py#L153"
target="_blank" style="float:right; font-size:smaller">source</a>

### WorkflowSettings.to_dict

``` python

def to_dict(
    
)->Dict: # Dictionary of settings values

```

*Convert settings to a dictionary for serialization.*

``` python
# Test from_configs and apply_to_configs
browser = BrowserConfig(directories=["/test/path"], enabled_types=["audio"])
storage = StorageConfig(auto_save=False, results_directory="custom_results")

settings = WorkflowSettings.from_configs(browser, storage)
assert settings.directories == ["/test/path"]
assert settings.enabled_types == ["audio"]
assert settings.auto_save == False
assert settings.results_directory == "custom_results"

# Test apply_to_configs
new_browser = BrowserConfig()
new_storage = StorageConfig()
settings.apply_to_configs(new_browser, new_storage)
assert new_browser.directories == ["/test/path"]
assert new_browser.enabled_types == ["audio"]
assert new_storage.auto_save == False

# Test to_dict uses correct field names for config loading
d = settings.to_dict()
assert "directories" in d  # Must match BrowserConfig field name
assert "enabled_types" in d
assert d["directories"] == ["/test/path"]
assert d["enabled_types"] == ["audio"]

print("from_configs, apply_to_configs, and to_dict work correctly")
```

    from_configs, apply_to_configs, and to_dict work correctly
